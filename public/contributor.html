<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Nexas</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/contributor.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        .homeBtn {
            position: fixed;
            z-index: 1000;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <a href="/" class="homeBtn">Home</a>

    <div class="contributor-container">
        <!-- Hero Section -->
        <section class="contributor-hero">
            <div class="contributor-hero-content">
                <h1>Welcome to Research Nexas</h1>
                <p>Empowering writers, one commit at a time</p>
                <button class="contributor-btn contributor-btn-primary" onclick="scrollToContribute()">Become a
                    Contributor</button>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="contributor-stats">
            <h2>Project Statistics</h2>
            <div class="contributor-stats-grid" id="statsGrid">
                <!-- Stats will be dynamically inserted here -->
            </div>
        </section>

        <!-- Contributors Grid -->
        <section class="contributor-contributors">
            <h2>Meet Our Contributors</h2>
            <div class="contributor-contributors-grid" id="contributorsGrid">
                <!-- Contributors will be dynamically inserted here -->
            </div>
            <div id="loading" class="contributor-loading">
                <div class="contributor-spinner"></div>
            </div>
        </section>

        <!-- Call to Action -->
        <section id="contribute" class="contributor-cta">
            <h2>Ready to Make an Impact?</h2>
            <p>Join our community and help shape the future with us at Research Nexas</p>
            <form id="subscribeForm">
                <input type="email" id="emailInput" placeholder="Enter your email" required>
                <button type="submit" class="contributor-btn contributor-btn-secondary">Get Started</button>
            </form>
            <div id="notification" class="contributor-notification contributor-hidden"></div>
        </section>
    </div>
    <button id="scrollToTopBtn" class="scroll-top" aria-label="Scroll to top" style="bottom: 72px;">
        <div class="scroll-top-icon">
            <i class="fa-solid fa-arrow-up"></i>
        </div>
        <svg class="progress-ring" width="60" height="60">
            <circle class="progress-ring__circle" stroke="#ffffff" stroke-width="4" fill="transparent" r="28" cx="30"
                cy="30"></circle>
        </svg>
    </button>
    <script>
        // Get the button
        const scrollToTopBtn = document.getElementById("scrollToTopBtn");
        const progressCircle = document.querySelector(".progress-ring__circle");
        const radius = progressCircle.r.baseVal.value;
        const circumference = 2 * Math.PI * radius;

        // Set the circle progress properties
        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset = circumference;

        // Function to show or hide the button based on scroll position
        function toggleScrollButton() {
            if (window.scrollY > 100) {
                scrollToTopBtn.classList.add("show");
            } else {
                scrollToTopBtn.classList.remove("show");
            }
        }

        // Function to set the scroll progress on the button ring
        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
        }

        // Listen for scroll events to update button visibility and progress
        window.addEventListener("scroll", () => {
            toggleScrollButton();
            const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            setProgress(scrollPercent);
        });

        // Smooth scroll to top when the button is clicked
        scrollToTopBtn.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        });

    </script>
    <script src="/script/contributor.js"></script>
</body>

</html>